Version 4
SHEET 1 8820 3748
WIRE 1056 -560 1056 -592
WIRE 1088 -560 1056 -560
WIRE 1088 -528 1056 -528
WIRE 1056 -480 1056 -528
WIRE -256 -384 -496 -384
WIRE 112 -384 -176 -384
WIRE -1200 -352 -1200 -432
WIRE 2480 -336 2480 -384
WIRE 2576 -336 2480 -336
WIRE 2576 -304 2544 -304
WIRE 2704 -304 2640 -304
WIRE 3008 -304 2960 -304
WIRE 3264 -304 3008 -304
WIRE 2480 -288 2480 -336
WIRE -496 -256 -496 -384
WIRE -448 -256 -496 -256
WIRE -304 -256 -384 -256
WIRE -96 -256 -144 -256
WIRE 48 -256 -16 -256
WIRE 2544 -256 2544 -304
WIRE 2752 -256 2544 -256
WIRE 3008 -240 3008 -304
WIRE 3008 -240 2544 -240
WIRE -1040 -224 -1040 -272
WIRE 2752 -224 2752 -256
WIRE 3008 -224 2752 -224
WIRE 2544 -192 2544 -240
WIRE 2576 -192 2544 -192
WIRE 2480 -160 2480 -224
WIRE 2576 -160 2480 -160
WIRE 2704 -160 2640 -160
WIRE 3008 -160 3008 -224
WIRE 3008 -160 2960 -160
WIRE 3040 -160 3008 -160
WIRE 3264 -160 3104 -160
WIRE 768 -144 768 -224
WIRE 768 -144 720 -144
WIRE 1072 -144 1072 -224
WIRE 1120 -144 1072 -144
WIRE 912 -128 816 -128
WIRE 1024 -128 912 -128
WIRE 48 -96 48 -256
WIRE 48 -96 -32 -96
WIRE 112 -96 112 -384
WIRE 112 -96 48 -96
WIRE 720 -96 720 -144
WIRE 768 -96 720 -96
WIRE 1120 -96 1120 -144
WIRE 1120 -96 1072 -96
WIRE -304 -80 -304 -256
WIRE -304 -80 -336 -80
WIRE -256 -80 -304 -80
WIRE -144 -80 -144 -256
WIRE -144 -80 -176 -80
WIRE -96 -80 -144 -80
WIRE -496 -64 -496 -256
WIRE -496 -64 -560 -64
WIRE -400 -64 -496 -64
WIRE 48 -64 -32 -64
WIRE -304 -48 -336 -48
WIRE 48 -16 48 -64
WIRE -304 0 -304 -48
WIRE 1552 0 1552 -80
WIRE 1600 0 1552 0
WIRE 1072 16 1072 -48
WIRE 1504 16 1072 16
WIRE 768 48 768 -48
WIRE 912 48 912 -128
WIRE 912 48 768 48
WIRE 1600 48 1600 0
WIRE 1600 48 1552 48
WIRE 2496 144 2496 96
WIRE 2496 144 2448 144
WIRE 2800 144 2800 96
WIRE 2848 144 2800 144
WIRE 3520 160 3520 112
WIRE 3520 160 3472 160
WIRE 3824 160 3824 112
WIRE 3872 160 3824 160
WIRE 2496 176 2496 144
WIRE 2800 176 2800 144
WIRE 3520 192 3520 160
WIRE 3824 192 3824 160
WIRE 2448 224 2448 144
WIRE 2496 224 2448 224
WIRE 2848 224 2848 144
WIRE 2848 224 2800 224
WIRE 3472 240 3472 160
WIRE 3520 240 3472 240
WIRE 3872 240 3872 160
WIRE 3872 240 3824 240
WIRE 768 256 768 48
WIRE 1072 256 1072 16
WIRE 2576 256 2544 256
WIRE 2752 256 2656 256
WIRE 2816 272 2800 272
WIRE 3600 272 3568 272
WIRE 3776 272 3680 272
WIRE 2576 288 2576 256
WIRE 2800 288 2576 288
WIRE 2816 288 2816 272
WIRE 2816 288 2800 288
WIRE 3840 288 3824 288
WIRE 816 304 768 304
WIRE 1072 304 1024 304
WIRE 3600 304 3600 272
WIRE 3824 304 3600 304
WIRE 3840 304 3840 288
WIRE 3840 304 3824 304
WIRE 2496 320 2496 272
WIRE 2496 320 2448 320
WIRE 2656 320 2656 256
WIRE 2656 320 2496 320
WIRE 720 336 576 336
WIRE 1216 336 1120 336
WIRE 1552 336 1552 96
WIRE 1648 336 1552 336
WIRE 3520 336 3520 288
WIRE 3520 336 3472 336
WIRE 3680 336 3680 272
WIRE 3680 336 3520 336
WIRE 2800 368 2800 288
WIRE 2864 368 2800 368
WIRE 768 384 768 352
WIRE 816 384 816 304
WIRE 816 384 768 384
WIRE 1024 384 1024 304
WIRE 1072 384 1072 352
WIRE 1072 384 1024 384
WIRE 3824 384 3824 304
WIRE 3888 384 3824 384
WIRE 2448 416 2448 320
WIRE 2800 416 2800 368
WIRE 3472 432 3472 336
WIRE 3824 432 3824 384
WIRE 768 464 768 384
WIRE 912 464 768 464
WIRE 1072 464 1072 384
WIRE 1072 464 912 464
WIRE 2496 464 2448 464
WIRE 2800 464 2752 464
WIRE 3520 480 3472 480
WIRE 3824 480 3776 480
WIRE 2240 496 2192 496
WIRE 2400 496 2240 496
WIRE 2912 496 2848 496
WIRE 3264 512 3216 512
WIRE 3424 512 3264 512
WIRE 3936 512 3872 512
WIRE 912 544 912 464
WIRE 1552 544 1552 336
WIRE 2448 544 2448 512
WIRE 2496 544 2496 464
WIRE 2496 544 2448 544
WIRE 2752 544 2752 464
WIRE 2800 544 2800 512
WIRE 2800 544 2752 544
WIRE 3472 560 3472 528
WIRE 3520 560 3520 480
WIRE 3520 560 3472 560
WIRE 3776 560 3776 480
WIRE 3824 560 3824 528
WIRE 3824 560 3776 560
WIRE 960 592 912 592
WIRE 1600 592 1552 592
WIRE 2448 592 2448 544
WIRE 2624 592 2448 592
WIRE 2800 592 2800 544
WIRE 2800 592 2624 592
WIRE 3472 608 3472 560
WIRE 3648 608 3472 608
WIRE 3824 608 3824 560
WIRE 3824 608 3648 608
WIRE 544 624 464 624
WIRE 704 624 624 624
WIRE 800 624 704 624
WIRE 864 624 800 624
WIRE 1504 624 1376 624
WIRE 2624 624 2624 592
WIRE 3648 640 3648 608
WIRE 912 672 912 640
WIRE 960 672 960 592
WIRE 960 672 912 672
WIRE 1552 672 1552 640
WIRE 1600 672 1600 592
WIRE 1600 672 1552 672
WIRE 2240 688 2240 496
WIRE 2448 688 2240 688
WIRE 2912 688 2912 496
WIRE 2912 688 2512 688
WIRE 3264 704 3264 512
WIRE 3472 704 3264 704
WIRE 3936 704 3936 512
WIRE 3936 704 3536 704
WIRE 800 752 800 624
WIRE 1376 752 1376 624
WIRE 1376 752 800 752
WIRE 704 800 704 704
WIRE 912 800 912 672
WIRE 912 800 704 800
WIRE 1552 800 1552 672
WIRE 1552 800 912 800
WIRE 912 832 912 800
WIRE -704 1472 -704 1424
WIRE 3408 1488 3408 1440
WIRE -768 1520 -864 1520
WIRE 3568 1536 3472 1536
WIRE -368 1568 -368 1440
WIRE 3072 1584 3072 1456
WIRE -864 1632 -864 1520
WIRE -864 1632 -960 1632
WIRE -704 1648 -704 1568
WIRE -416 1648 -416 1584
WIRE -416 1648 -704 1648
WIRE 3568 1648 3568 1536
WIRE 3664 1648 3568 1648
WIRE 3120 1664 3120 1600
WIRE 3408 1664 3408 1584
WIRE 3408 1664 3120 1664
WIRE -704 1696 -704 1648
WIRE 3408 1712 3408 1664
WIRE -864 1744 -864 1632
WIRE -768 1744 -864 1744
WIRE 3568 1760 3568 1648
WIRE 3568 1760 3472 1760
WIRE 624 1824 560 1824
WIRE 816 1824 704 1824
WIRE 1088 1824 880 1824
WIRE 1760 1824 1552 1824
WIRE 1936 1824 1824 1824
WIRE 2080 1824 2016 1824
WIRE -704 1840 -704 1792
WIRE 3408 1856 3408 1808
WIRE -368 1888 -368 1664
WIRE -304 1888 -368 1888
WIRE 3072 1904 3072 1680
WIRE 3072 1904 3008 1904
WIRE 704 1936 704 1888
WIRE 1936 1936 1936 1888
WIRE -704 2048 -704 2000
WIRE 3408 2064 3408 2016
WIRE -768 2096 -864 2096
WIRE 3568 2112 3472 2112
WIRE -368 2144 -368 1888
WIRE 3072 2160 3072 1904
WIRE -864 2208 -864 2096
WIRE -864 2208 -960 2208
WIRE -704 2224 -704 2144
WIRE -416 2224 -704 2224
WIRE 3568 2224 3568 2112
WIRE 3664 2224 3568 2224
WIRE 3408 2240 3408 2160
WIRE 3408 2240 3120 2240
WIRE -704 2272 -704 2224
WIRE 3408 2288 3408 2240
WIRE -864 2320 -864 2208
WIRE -768 2320 -864 2320
WIRE 3568 2336 3568 2224
WIRE 3568 2336 3472 2336
WIRE -704 2416 -704 2368
WIRE -368 2416 -368 2240
WIRE 3072 2432 3072 2256
WIRE 3408 2432 3408 2384
FLAG -1200 -272 0
FLAG -1200 -432 +VCC
IOPIN -1200 -432 In
FLAG -1040 -352 0
FLAG -1040 -224 -VCC
IOPIN -1040 -224 In
FLAG -1200 80 0
FLAG -1200 0 V_IN
IOPIN -1200 0 In
FLAG 1152 -544 PWM_COMP
IOPIN 1152 -544 In
FLAG -368 -96 +VCC
FLAG -368 -32 -VCC
FLAG -304 0 0
FLAG -64 -48 +VCC
FLAG -64 -112 -VCC
FLAG 48 -16 0
FLAG -560 -64 V_TRI
IOPIN -560 -64 In
FLAG 1936 1936 0
FLAG 1552 1824 V_OUT2
IOPIN 1552 1824 In
FLAG 2080 1824 PWM_OUT2
FLAG 2480 -384 PWM_COMP
FLAG 2192 496 PWM_HI
FLAG 3264 -304 PWM_HI
IOPIN 3264 -304 In
FLAG 3264 -160 PWM_LO
IOPIN 3264 -160 In
FLAG 2864 368 PWM_HI2
IOPIN 2864 368 In
FLAG 1120 -576 +VCC
FLAG 560 336 V_IN
FLAG 1216 336 V_TRI
FLAG 2496 96 +VCC
FLAG 2800 96 +VCC
FLAG 2624 624 0
FLAG 1072 -224 +VCC
FLAG 768 -224 +VCC
FLAG 912 832 0
FLAG 1552 -80 +VCC
FLAG 464 624 +VCC
FLAG 1056 -592 V_IN
FLAG 1056 -480 V_TRI
FLAG 1120 -512 -VCC
FLAG 1648 336 PWM_COMP2
IOPIN 1648 336 In
FLAG 1312 2272 0
FLAG 3216 512 PWM_LO
FLAG 3888 384 PWM_LO2
IOPIN 3888 384 In
FLAG 3520 112 +VCC
FLAG 3824 112 +VCC
FLAG 3648 640 0
FLAG 1312 2192 V_OUT2
FLAG -368 1440 +VCC
FLAG -704 1424 +VCC
FLAG -704 1840 0
FLAG -368 2416 0
FLAG -704 2000 +VCC
FLAG -704 2416 0
FLAG -304 1888 PWM_OUT1
IOPIN -304 1888 In
FLAG -960 1632 PWM_HI2
FLAG -960 2208 PWM_LO2
FLAG 704 1936 0
FLAG 1088 1824 V_OUT1
IOPIN 1088 1824 In
FLAG 560 1824 PWM_OUT1
FLAG 3072 1456 +VCC
FLAG 3408 1440 +VCC
FLAG 3408 1856 0
FLAG 3072 2432 0
FLAG 3408 2016 +VCC
FLAG 3408 2432 0
FLAG 3008 1904 PWM_OUT2
IOPIN 3008 1904 In
FLAG 3664 1648 PWM_HI2
FLAG 3664 2224 PWM_LO2
SYMBOL voltage -1200 -368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -1040 -368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL Misc\\signal -1200 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V_IN
SYMATTR Value SINE(0 1 5k)
SYMBOL Opamps\\LT1357 -368 -128 M0
SYMATTR InstName U5
SYMBOL res -160 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL Opamps\\LT1357 -64 -16 R180
SYMATTR InstName U3
SYMBOL cap -384 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 33p
SYMBOL res 0 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 220k
SYMBOL res -160 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 33k
SYMBOL res 1296 2176 R0
SYMATTR InstName RLOAD
SYMATTR Value 8
SYMBOL ind 2032 1840 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 50µ
SYMBOL cap 1952 1824 M0
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL Digital\\and 2608 -384 R0
SYMATTR InstName A1
SYMBOL Digital\\and 2608 -240 R0
SYMATTR InstName A2
SYMBOL Digital\\inv 2544 -288 R90
SYMATTR InstName A3
SYMBOL Digital\\inv 2704 -368 R0
SYMATTR InstName A4
SYMBOL Digital\\inv 2768 -368 R0
SYMATTR InstName A5
SYMBOL Digital\\inv 2832 -368 R0
SYMATTR InstName A6
SYMBOL Digital\\inv 2896 -368 R0
SYMATTR InstName A7
SYMBOL Digital\\inv 2704 -224 R0
SYMATTR InstName A8
SYMBOL Digital\\inv 2768 -224 R0
SYMATTR InstName A9
SYMBOL Digital\\inv 2832 -224 R0
SYMATTR InstName A10
SYMBOL Digital\\inv 2896 -224 R0
SYMATTR InstName A11
SYMBOL Comparators\\LT1720 1120 -608 R0
SYMATTR InstName U1
SYMBOL pmos4 2752 176 R0
SYMATTR InstName M1
SYMATTR Value2 l={L} w={W}
SYMBOL pmos4 2544 176 M0
SYMATTR InstName M2
SYMATTR Value2 l={L} w={W}
SYMBOL nmos4 2400 416 R0
SYMATTR InstName M7
SYMATTR Value2 l={L} w={W}
SYMBOL nmos4 2848 416 M0
SYMATTR InstName M8
SYMATTR Value2 l={L} w={W}
SYMBOL Digital\\inv 2448 624 R0
SYMATTR InstName A13
SYMBOL pmos4 1024 -48 M180
SYMATTR InstName M9
SYMATTR Value2 l={L} w={W}
SYMBOL nmos4 720 256 R0
SYMATTR InstName M10
SYMATTR Value2 l={L} w={W}
SYMBOL pmos4 816 -48 R180
SYMATTR InstName M11
SYMATTR Value2 l={L} w={W}
SYMBOL nmos4 1120 256 M0
SYMATTR InstName M12
SYMATTR Value2 l={L} w={W}
SYMBOL nmos4 864 544 R0
SYMATTR InstName M13
SYMATTR Value2 l={L} w={W}
SYMBOL nmos4 1504 544 R0
SYMATTR InstName M14
SYMATTR Value2 l={L} w={W}
SYMBOL pmos4 1504 96 M180
SYMATTR InstName M15
SYMATTR Value2 l={L} w={W}
SYMBOL res 640 608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 2.7k
SYMBOL res 688 608 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL pmos4 3776 192 R0
SYMATTR InstName M16
SYMATTR Value2 l={L} w={W}
SYMBOL pmos4 3568 192 M0
SYMATTR InstName M17
SYMATTR Value2 l={L} w={W}
SYMBOL nmos4 3424 432 R0
SYMATTR InstName M18
SYMATTR Value2 l={L} w={W}
SYMBOL nmos4 3872 432 M0
SYMATTR InstName M19
SYMATTR Value2 l={L} w={W}
SYMBOL Digital\\inv 3472 640 R0
SYMATTR InstName A14
SYMBOL cap 1824 1808 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 100µ
SYMBOL Digital\\inv 3040 -224 R0
SYMATTR InstName A12
SYMBOL nmos -416 2144 R0
SYMATTR InstName M5
SYMATTR Value BSC060N10NS3
SYMBOL pmos -416 1664 M180
SYMATTR InstName M6
SYMATTR Value Si7489DP
SYMBOL npn -768 1472 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL pnp -768 1792 M180
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL npn -768 2048 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL pnp -768 2368 M180
SYMATTR InstName Q4
SYMATTR Value 2N3906
SYMBOL ind 608 1840 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 50µ
SYMBOL cap 688 1824 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL cap 816 1808 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL nmos 3120 2160 M0
SYMATTR InstName M3
SYMATTR Value BSC060N10NS3
SYMBOL pmos 3120 1680 R180
SYMATTR InstName M4
SYMATTR Value Si7489DP
SYMBOL npn 3472 1488 M0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL pnp 3472 1808 R180
SYMATTR InstName Q6
SYMATTR Value 2N3906
SYMBOL npn 3472 2064 M0
SYMATTR InstName Q7
SYMATTR Value 2N3904
SYMBOL pnp 3472 2384 R180
SYMATTR InstName Q8
SYMATTR Value 2N3906
TEXT 760 -968 Left 5 !.tran 5ms
TEXT 760 -888 Left 5 !.lib LM741.sub
TEXT -1400 -1104 Left 5 ;Universidade Federal de Santa Catarina - UFSC\nEngenharia Eletrônica - EEL7303 - Circuitos Eletrônicos Analógicos\nProjeto - Amplificador Classe D em Ponte-H\nGabriel Pereira Fernandes - 14101335\nGustavo Simas da Silva - 16101076
TEXT 752 -1120 Left 5 ;SIMULATION DEFINITIONS:
TEXT 760 -1040 Left 5 !.op
TEXT -1360 -640 Left 6 ;SOURCES
TEXT -648 -664 Left 5 ;TRIANGULAR WAVE \nGENERATOR
TEXT 320 -648 Left 6 ;COMPARATOR
TEXT 2088 -640 Left 6 ;DEAD TIME GENERATOR / LEVEL SHIFTER
TEXT -1344 1152 Left 6 ;SWITCHING / DRIVER 1
TEXT 384 1120 Left 6 ;OUTPUT FILTER / LOAD
TEXT 760 -816 Left 5 !.lib TSMC180nm.lib.txt
TEXT 1552 -1040 Left 5 !.param L=0.08u
TEXT 1552 -976 Left 5 !.param W=20u
TEXT 4064 1136 Right 6 ;SWITCHING / DRIVER 2
RECTANGLE Normal -768 928 -1424 -720 2
RECTANGLE Normal 1936 928 272 -720 2
RECTANGLE Normal 2384 2720 352 1056 2
RECTANGLE Normal 208 928 -688 -736 2
RECTANGLE Normal 208 2720 -1424 1024 2
RECTANGLE Normal 2512 2736 4144 1040 2
RECTANGLE Normal 4144 -720 2000 928 2
