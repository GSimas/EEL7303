
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="GENERATOR" content="Quadralay WebWorks Publisher AutoMap 6.0.7">
<meta name="TEMPLATEBASE" content="CadencePubs7">
<meta name="LASTUPDATED" content="Fri Mar 04 16:06:44 2005">

<script src="/Cookies.js"></script>

<!-- Begin Feedback Script -->
<script>
setCookie("DocumentTitle", "Cadence License Manager");
setCookie("Chapter", "License Maintenance");
setCookie("Keyword", "license");
setCookie("Version", "Product Version 10.1.3");
</script>
<!-- End Feedback Script -->

<title>Cadence License Manager -- 3. License Maintenance</title>
<META NAME="CreateTime" CONTENT="1109932633">
<META NAME="CreateDate" CONTENT="2005-03-04">
<META NAME="Title" CONTENT="Cadence License Manager -- 3. License Maintenance">
<META NAME="DocTitle" CONTENT="Cadence License Manager">
<META NAME="DocType" CONTENT="Manual">
<META NAME="DataType" CONTENT="Manuals">
<META NAME="FileTitle" CONTENT="3. License Maintenance">
<META NAME="NextFile" CONTENT="windows.html">
<META NAME="PrevFile" CONTENT="chap2.html">
<META NAME="FileType" CONTENT="Chapter">
<META NAME="PageCount" CONTENT="12">
<META NAME="Version" CONTENT="10.1.3">
<META NAME="ModifiedTime" CONTENT="1109932633">
<META NAME="ModifiedDate" CONTENT="2005-03-04">
<META NAME="Author" CONTENT="Technical Publications">
<META NAME="Keyword" CONTENT="license">
<META NAME="ProductFamily" CONTENT="Cadence Shared Tools">
<META NAME="Product" CONTENT="Install and License">
<META NAME="Language" CONTENT="English">
<META NAME="RightsManagement" CONTENT="Copyright 1990-2005 Cadence Design Systems Inc.">
<META NAME="Description" CONTENT="Describes the Cadence licensing process.">
<META NAME="Platform" CONTENT="ALL">
<META NAME="Approver" CONTENT="Technical Publications">
<META NAME="ProductVersion" CONTENT="10.1.3">
</head>

<body bgcolor="#ffffff">
<a name="firstpage"></a>
<a name="pagetop"></a>

<p>
<!-- Begin Buttons -->
<table border="0" cellpadding="0" cellspacing="0" width="650">
<tr>
  <td height="36" width="650" colspan="10"><img src="../support/header_doc.gif" WIDTH="650" HEIGHT="36"></td>
</tr>
<tr>
  <td height="20" width="59"><a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a></td>
  <td height="20" width="73"><a href="licenseTOC.html"><img src="../support/nav2_toc.gif" border="0" alt="View Table Of Contents" height="20" width="73"></a></td>
  <td height="20" width="46"><a href="licenseIX.html"><img src="../support/nav2_index.gif" border="0" alt="View Index for This Manual" height="20" width="46"></a></td>
  <td height="20" width="83"><a href="chap2.html"><img src="../support/nav2_previous.gif" border="0" alt="View Previous Chapter in Book" height="20" width="83"></a></td>
  <td height="20" width="59"><a href="windows.html"><img src="../support/nav2_next.gif" border="0" alt="View Next Chapter in Book" height="20" width="59"></a></td>
  <td height="20" width="114"><a href="license.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a></td>
  <td height="20" width="61"><a href="/search.htm"><img src="../support/nav2_search.gif" border="0"  alt="Search Cadence Library" height="20" width="61"></a></td>
  <td height="20" width="76"><a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a></td>
  <td height="20" width="43"><a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a></td>
  <td height="20" width="37"><a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a></td>
</tr>
</table>
<!-- End Buttons -->
<p>
<p>
<hr>
<p>
<h3><center>Cadence License Manager&#0044; Product Version 10.1.3</center></h3><br>
<p>


<blockquote>

  
<div align="right">
<h1 align="left">
  <a name="598728"> </a>3</h1>
</div>

<hr>
<h1>
  <a name="598761"> </a>License Maintenance</h1>






<p>
  <a name="601611"> </a>This chapter contains information about the following topics:</p>

<ul>
  <a name="601978"></a><li><p><a href="chap3.html#602228">Tracking Licence Expiration</a></p>

  <a name="602214"></a><li><p><a href="chap3.html#602215">Monitoring Licensing</a></p>

  <a name="601986"></a><li><p><a href="chap3.html#162676">Stopping and Starting the License Daemons</a></p>

  <a name="601990"></a><li><p><a href="chap3.html#600413">Changing the License File</a></p>
</ul>
<br><br><br>
<h2>
  <a name="602228"> </a>Tracking Licence Expiration</h2>


<p>
  <a name="602233"> </a>If you do not have permanent licenses for your Cadence software, and if you are not using the automatic update service, then you need to track your license expiration dates. The worst way to find out about expired licenses is when the software returns a fatal error. There are several methods for checking your licenses ahead of time.</p>

<ul>
  <a name="602242"></a><li><p><a href="chap3.html#602249">Server Model License Expiration Notification</a></p>
<dl>
<p>
  <a name="602244"> </a>Use the <code>lmCheckExpiration.cds</code> script to periodically check all your licenses.</p>

</dl>
  <a name="602243"></a><li><p><a href="chap3.html#602504">Client Model License Expiration Notification</a></p>
<dl>
<p>
  <a name="602245"> </a>Use the <code>CDS_LIC_EXPIRE</code> environment variable to tell so-equipped Cadence software to report license expiration warnings upon startup.</p>

</dl></ul>
<p>
<strong>Note:&nbsp;</strong>
<a name="602402"> </a>Contact your Cadence Sales representative to order new licenses at least 10 days in advance of the expiration date. 
</p>

<br><br>
<h3>
  <a name="602249"> </a>Server Model License Expiration Notification</h3>


<p>
  <a name="602443"> </a>The <code>lmCheckExpiration.cds</code> script checks all licenses in the specified license file. You can schedule the script to run periodically on your system (using cron on UNIX, or the job scheduler on Windows) to notify you when licenses are close to expiring.</p>


<p>
  <a name="602497"> </a>The script has the following format:</p>


<pre><a name="602500"></a><nobr>lmCheckExpiration.cds <br>&nbsp;&nbsp;&nbsp;[-c license_file] [-d days_to_expire] [-m email_address] [features]</nobr></pre>

<p>
  <a name="602448"> </a>Where:<p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr bgcolor="#CCCCCC"><div align="center">
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="602451"> </a>parameter</strong></p></div></font></th>
    <th><font face="Verdana, Arial, Helvetica, sans-serif" color="#003366"><div align="left"><p><strong><a name="602453"> </a>description</strong></p></div></font></th>
  </div></tr>
  <tr>
    <td valign="top"><p>
<a name="602455"> </a><code>-c </code><code><em>license_file</code></em></p>
</td>
    <td valign="top"><p>
<a name="602457"> </a>Use the specified license file. You can specify a path to the license file, or port@host, or both as a concatenated, colon-separated list. </p>
<p>
<a name="602505"> </a>The default is to look for and check the <code>CDS_LIC_FILE</code>, the clients file, or the <code>LM_LICENSE_FILE</code>, in that order.</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="602459"> </a><code>-d </code><code><em>days_to_expire</code></em></p>
</td>
    <td valign="top"><p>
<a name="602461"> </a>Include only those licenses expiring within the specified number of days.</p>
<p>
<a name="602508"> </a>The default is to return only those licenses expiring today.</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="602463"> </a><code>-m </code><code><em>email_address</code></em></p>
</td>
    <td valign="top"><p>
<a name="602465"> </a>Send the expiration report to the specified address. The report is also written to the standard output (stdout.)</p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="602467"> </a><code><em>features</code></em></p>
</td>
    <td valign="top"><p>
<a name="602491"> </a>Specify a list of features (products) to check. </p>
<p>
<a name="602509"> </a>If you do not specify any features, the default is to return information for all licenses served by the license server(s).</p>
</td>
  </tr>
</table>
<br>


</p>
</p>


<p>
  <a name="602515"> </a>The script returns 0 for success, 1 if it cannot connect to any of the license servers, and 2 for an invalid argument.</p>


<p>
  <a name="602531"> </a>If a license is going to expire within the specified number of days, the script writes a warning message to the stdout of the terminal from which it was started, and optionally sends mail to a specified user. The message includes the license name, version, expiration date, and the number of days before expiration.</p>


<p>
  <a name="602516"> </a>For example, to check the status of licenses for <code>cpe</code> and feature <code>34500</code>: </p>

<ul>
  <a name="602517"></a><li><p>Show a message only if the licenses are expiring today:</p>
<dl>
<pre><a name="602518"></a><nobr>lmCheckExpiration.cds -c 5280@cds11574:/cds/share/license/license.dat -<br>cpe 34500</nobr></pre>
</dl>
  <a name="602519"></a><li><p>Show and send a message if the licenses are expiring within 30 days:</p>
<dl>
<pre><a name="602548"></a><nobr>lmCheckExpiration.cds -c 5280@cds11574:/cds/share/license/license.dat -<br>-d 30 -m user@company.com cpe 34500</nobr></pre>
</dl><dl>
<p>
  <a name="602521"> </a>This may generate the following message:</p>

</dl><dl>
<pre><a name="602522"></a><nobr>Warning: The following feature(s) are expiring soon:</nobr></pre>

<pre><a name="602523"></a><nobr>cpe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4&nbsp;&nbsp;24-apr-2002&nbsp;&nbsp;&nbsp;14 days</nobr></pre>

<pre><a name="602524"></a><nobr>34500&nbsp;&nbsp;&nbsp;4.4&nbsp;&nbsp;09-may-2002&nbsp;&nbsp;&nbsp;25 days</nobr></pre>
</dl></ul>
<br><br>
<h3>
  <a name="602504"> </a>Client Model License Expiration Notification</h3>


<p>
  <a name="602252"> </a>Beginning in the summer of 2002, some new Cadence applications can notify you when their licenses are nearing their expiration dates. If a tool has this capability, it will be mentioned in the product's <em>Product Notes</em> or <em>What's New</em> documentation.</p>


<p>
  <a name="602256"> </a>To use this new feature, set the <code>CDS_LIC_EXPIRE</code> environment variable and specify a number of days. Each time you start your Cadence tool, it will notify you if any of the licenses it checks out are expiring within that specified number of days.</p>


<p>
  <a name="602363"> </a>Use the following formats to set the variable:</p>

<ul>
  <a name="602367"></a><li><p>C-shell:</p>
<dl>
<pre><a name="602368"></a><nobr>setenv CDS_LIC_EXPIRE <code><em>&lt;days&gt;</code></em></nobr></pre>
</dl>
  <a name="602371"></a><li><p>Bourne and Korn shells:</p>
<dl>
<pre><a name="602372"></a><nobr>CDS_LIC_EXPIRE=<code><em>&lt;days&gt;</code></em>; export CDS_LIC_EXPIRE</nobr></pre>
</dl>
  <a name="602373"></a><li><p>MS-DOS Window:</p>
<dl>
<pre><a name="602374"></a><nobr>set CDS_LIC_EXPIRE=<code><em>&lt;days&gt;</code></em></nobr></pre>
</dl></ul>
<p>
  <a name="602375"> </a>If a license is going to expire within the specified number of days, the tool writes a warning message to the stdout of the terminal from which it was started. The message includes the license name, version, expiration date, and the number of days before expiration.</p>


<p>
  <a name="602376"> </a>For example: </p>

<ul>
  <a name="602377"></a><li><p>Show a message only if the license is expiring today:</p>
<dl>
<pre><a name="602378"></a><nobr>setenv CDS_LIC_EXPIRE 0</nobr></pre>
</dl>
  <a name="602383"></a><li><p>Show a message if the license is expiring within 30 days:</p>
<dl>
<pre><a name="602384"></a><nobr>setenv CDS_LIC_EXPIRE 30</nobr></pre>
</dl><dl>
<p>
  <a name="602399"> </a>This may generate the following message:</p>

</dl><dl>
<pre><a name="602389"></a><nobr>Warning: The following feature(s) are expiring soon:</nobr></pre>

<pre><a name="602386"></a><nobr>cpe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4&nbsp;&nbsp;24-apr-2002&nbsp;&nbsp;&nbsp;14 days</nobr></pre>

<pre><a name="602387"></a><nobr>34500&nbsp;&nbsp;&nbsp;4.4&nbsp;&nbsp;09-may-2002&nbsp;&nbsp;&nbsp;25 days</nobr></pre>
</dl></ul>
<br><br><br>
<h2>
  <a name="602215"> </a>Monitoring Licensing</h2>


<p>
  <a name="598776"> </a>Licensing requires little or no maintenance or monitoring, but you may need to</p>

<ul>
  <a name="157289"></a><li><p>Know the <a href="chap3.html#601784">status</a> of your licenses or license daemons</p>

  <a name="162261"></a><li><p>Look at the <a href="chap3.html#162383">log files</a></p>

  <a name="156948"></a><li><p>Determine the <a href="chap3.html#601806">license usage</a></p>

  <a name="157568"></a><li><p><a href="chap2.html#171093">Control or restrict the access to licenses</a> in some way</p>

  <a name="156964"></a><li><p><a href="chap3.html#598931">Change the license file</a></p>

  <a name="156967"></a><li><p><a href="chap3.html#600320">Start the license daemons</a></p>

  <a name="170153"></a><li><p><a href="chap3.html#600277">Stop the license daemons</a></p>
</ul>
<p>
  <a name="170156"> </a>This reference assumes that the <code>cdsmgr</code> account you created during installation is the account you use to monitor and maintain Cadence licensing.</p>


<p>
  <a name="162287"> </a>Because Macrovision provides the <code>LM_LICENSE_FILE</code> variable to specify the path to the license file, set <code>LM_LICENSE_FILE</code> before you run the licensing utilities so that you do not have to type the path to the license file for each utility. </p>


<p>
  <a name="167625"> </a>For example, to determine the status of the license daemons, you usually specify the license file name and type</p>


<pre><a name="167623"></a><nobr>lmstat -a -c /usr/cds/share/license/license.abcd1234</nobr></pre>

<p>
  <a name="170375"> </a>If you will be using many licensing utilities during a session, set this variable in the shell where you will run the utilities. </p>


<pre><a name="170376"></a><nobr>setenv LM_LICENSE_FILE /usr/cds/share/license/license.abcd1234</nobr></pre>

<p>
  <a name="170377"> </a>then to retrieve the status, you only need to type</p>


<pre><a name="167635"></a><nobr>lmstat -a</nobr></pre>

<br><br>
<h3>
  <a name="601784"> </a>License and Daemon <a name="lmstat"></a>Status</h3>


<p>
  <a name="598799"> </a>Use lmstat to display the status of the license servers, Cadence daemons, features, and users of each feature.</p>


<p>
  <a name="167638"> </a>For example, if a license server named <code>sunny</code> uses the <br><code>/usr/cds/share/license/license.abcd1234</code> license file, type</p>


<pre><a name="598801"></a><nobr>lmstat -a -c /usr/cds/share/license/license.abcd1234</nobr></pre>

<p>
  <a name="601802"> </a><code>lmstat</code> responds with something similar to this<img src="images/chap3x1.png" border="0">
</p>


<p>
  <a name="601804"> </a>You can also use the <code><em>port</code></em><code>@</code><code><em>host</code></em> format to display the status of the license servers, Cadence daemons, features, and users of each feature. If <code>5280</code> is the port number you are using and the license server is running on <code>sunny</code>, type</p>


<pre><a name="601812"></a><nobr><code>lmstat -c 5280@sunny</code></nobr></pre>

<br><br>
<h3>
  <a name="601810"> </a>License Usage</h3>


<p>
  <a name="601806"> </a>The debug log file and the report log file collect <a name="usage"></a>different usage information.</p>




<h4>
  <a name="159752"> </a>Debug Log File</h4>


<p>
  <a name="162383"> </a>The <a name="debug file"></a>license daemons record all license activity (licenses checked in and out, licenses denied, queues, and network problems) in a <code>/usr/tmp/license.log</code> debug log file (default).</p>


<h4>  <a name="159489"> </a><i>Preferences</i>
</h4>


<p>
  <a name="167730"> </a>You can specify several debug log file preferences:</p>

<ul>
  <a name="159490"></a><li><p>Create a log file you can rename while the daemons are running (the default method of starting the daemons)</p>
<dl>
<p>
  <a name="159492"> </a>When you configure licensing, the utility creates an <u><code><a href="chap2.html#164126">rc.lic</a></code></u> file (from the <code>rclic.sample</code> file) that starts the licensing daemons with this line:</p>

</dl><dl>
<pre><a name="601175"></a><nobr>lmgrd | sh -c 'while read line; do echo "$line" &gt;&gt; <code><em>log_file</code></em>; done'</nobr></pre>
</dl><dl>
<p>
  <a name="159499"> </a>When the daemons start with this method, you can rename the output log file without stopping the daemons. A new debug log file replaces it.</p>

</dl>
  <a name="159500"></a><li><p>Create a log file that the computer does not delete as it reboots </p>
<dl>
<p>
  <a name="167884"> </a>The default method of starting the daemons creates the log file in <code>/usr/tmp</code> (<code>/usr/tmp/license.log</code>) instead of <code>/tmp</code> because the computer deletes the files in <code>/tmp</code> when the it reboots. You can modify the <code>/etc/rc.lic</code> file to place the debug log file in another location.</p>


<p>
  <a name="159630"> </a>If the license-server boot script <a href="chap2.html#114714">starts the license daemons the default way</a>, <code>/etc/rc.lic</code> renames the<code> license.log</code> file with a <code>.</code><code><em>month</code></em><code>.day.time</code> extension, such as <code>license.log.Nov.24.09:20:23</code>, and creates a new <code>license.log</code> file. </p>

</dl>
  <a name="159611"></a><li><p><a href="chap2.html#180776">Limit the messages</a> recorded in the log file by editing the <code>options</code> file.</p>
<dl>
<p>
  <a name="159612"> </a>Because the licensing daemons and other processes share the same log file, the log file can grow very large, especially when stable licensing daemons serve many licenses. You can periodically remove old <code>license.log</code> files to save disk space. Do not remove an old log file until you have generated any desired licensing reports from it. Portions of a debug log file follow:</p>

</dl></ul>
<pre><a name="170380"></a><nobr>15:33:50 (lmgrd) -----------------------------------------------</nobr></pre>

<pre><a name="601922"></a><nobr>15:33:50 (lmgrd)   Please Note:</nobr></pre>

<pre><a name="601923"></a><nobr>15:33:50 (lmgrd) </nobr></pre>

<pre><a name="601924"></a><nobr>15:33:50 (lmgrd)   This log is intended for debug purposes only.</nobr></pre>

<pre><a name="601925"></a><nobr>15:33:50 (lmgrd)   There are many details in licensing policies</nobr></pre>

<pre><a name="601926"></a><nobr>15:33:50 (lmgrd)   that are not reported in the information logged</nobr></pre>

<pre><a name="601927"></a><nobr>15:33:50 (lmgrd)   here, so if you use this log file for any kind</nobr></pre>

<pre><a name="601928"></a><nobr>15:33:50 (lmgrd)   of usage reporting you will generally produce</nobr></pre>

<pre><a name="601929"></a><nobr>15:33:50 (lmgrd)   incorrect results.</nobr></pre>

<pre><a name="601930"></a><nobr>15:33:50 (lmgrd) </nobr></pre>

<pre><a name="601931"></a><nobr>15:33:50 (lmgrd) -----------------------------------------------</nobr></pre>

<pre><a name="601932"></a><nobr>15:33:50 (lmgrd) </nobr></pre>

<pre><a name="601933"></a><nobr>15:33:50 (lmgrd) </nobr></pre>

<pre><a name="601934"></a><nobr>15:33:50 (lmgrd) FLEXlm (v6.1f) started on cds10065 (Sun) (8/26/1999)</nobr></pre>

<pre><a name="601935"></a><nobr>15:33:50 (lmgrd) FLEXlm Copyright 1988-1999, Macrovision Software, Inc.</nobr></pre>

<pre><a name="601936"></a><nobr>15:33:50 (lmgrd) US Patents 5,390,297 and 5,671,412.</nobr></pre>

<pre><a name="601937"></a><nobr>15:33:50 (lmgrd) World Wide Web:  http://www.macrovision.com</nobr></pre>

<pre><a name="601938"></a><nobr>15:33:50 (lmgrd) License file(s): license.dat</nobr></pre>

<pre><a name="601939"></a><nobr>15:33:50 (lmgrd) lmgrd tcp-port 5280</nobr></pre>

<pre><a name="601940"></a><nobr>15:33:50 (lmgrd) Starting vendor daemons ... </nobr></pre>

<pre><a name="601941"></a><nobr>15:33:50 (lmgrd) Started cdslmd (internet tcp_port 39412 pid 1520)</nobr></pre>

<pre><a name="601942"></a><nobr>15:33:50 (cdslmd) FLEXlm version 6.1f</nobr></pre>

<pre><a name="601943"></a><nobr>CADENCE_ERROR_MSG:       FEATURE "F6" with code "FC62A8E17705E28A6C3A" is unsupported. Ignored.</nobr></pre>

<pre><a name="601944"></a><nobr>15:33:50 (cdslmd) Using options file: "options"</nobr></pre>

<pre><a name="601945"></a><nobr>15:33:50 (cdslmd) Feature F5 is not enabled yet</nobr></pre>

<pre><a name="601946"></a><nobr>15:33:50 (cdslmd) Feature F5 is not enabled yet</nobr></pre>

<pre><a name="601947"></a><nobr>15:33:50 (cdslmd) Feature F5 is not enabled yet</nobr></pre>

<pre><a name="601948"></a><nobr>15:33:50 (cdslmd) EXPIRED: F7</nobr></pre>

<pre><a name="601949"></a><nobr>15:33:50 (cdslmd) EXPIRED: F8</nobr></pre>

<pre><a name="601950"></a><nobr>15:33:50 (cdslmd) Warning: F1 expires 1-sep-1999</nobr></pre>

<pre><a name="601951"></a><nobr>15:33:50 (cdslmd) Server started on cds10065 for:       F1              </nobr></pre>

<pre><a name="601952"></a><nobr>15:33:50 (cdslmd) F1            F1              F2              </nobr></pre>

<pre><a name="601953"></a><nobr>15:33:50 (cdslmd) F2            F2              F3              </nobr></pre>

<pre><a name="601954"></a><nobr>15:33:50 (cdslmd) F4            F5              F8              </nobr></pre>

<pre><a name="601955"></a><nobr>15:33:50 (cdslmd) FEATURE   F1 INACTIVITY TIMEOUT set to 900 seconds</nobr></pre>

<pre><a name="601956"></a><nobr>15:33:50 (cdslmd) FEATURE   F1 INACTIVITY TIMEOUT set to 900 seconds</nobr></pre>

<pre><a name="601957"></a><nobr>15:33:50 (cdslmd) FEATURE   F1 INACTIVITY TIMEOUT set to 900 seconds</nobr></pre>

<pre><a name="601958"></a><nobr>15:33:50 (cdslmd) FEATURE   F2 INACTIVITY TIMEOUT set to 900 seconds</nobr></pre>

<pre><a name="601959"></a><nobr>15:33:50 (cdslmd) FEATURE   F2 INACTIVITY TIMEOUT set to 900 seconds</nobr></pre>

<pre><a name="601960"></a><nobr>15:33:50 (cdslmd) FEATURE   F2 INACTIVITY TIMEOUT set to 900 seconds</nobr></pre>

<pre><a name="601961"></a><nobr>18:18:26 (cdslmd) OUT: "F1" jdoe@sunny  </nobr></pre>

<pre><a name="601962"></a><nobr>18:19:57 (cdslmd) OUT: "F2" joan@windy  </nobr></pre>

<pre><a name="601963"></a><nobr>18:21:42 (cdslmd) IN: "F1" jdoe@sunny  </nobr></pre>

<pre><a name="601964"></a><nobr>18:22:28 (cdslmd) IN: "F2" joan@windy  </nobr></pre>

<pre><a name="601965"></a><nobr>18:41:48 (lmgrd) SHUTDOWN request from cdsmgr at node cloudy</nobr></pre>

<pre><a name="601966"></a><nobr></nobr></pre>

<pre><a name="601967"></a><nobr>18:41:48 (lmgrd) lmgrd will now shut down all the vendor daemons</nobr></pre>

<pre><a name="601968"></a><nobr></nobr></pre>

<pre><a name="601969"></a><nobr>18:41:48 (lmgrd) Shutting down cdslmd</nobr></pre>

<pre><a name="601970"></a><nobr>18:41:48 (cdslmd) daemon shutdown requested - shutting down</nobr></pre>

<p>
  <a name="159314"> </a>The debug log file does not always give you the type of report you want for several reasons:</p>

<ul>
  <a name="159240"></a><li><p>Because the debug log file does not record information about uncounted licenses, you cannot generate reports about site license usage. </p>
<dl>
<p>
  <a name="159327"> </a>The license file lists the quantity of site or uncounted licenses as zero. </p>

</dl>
  <a name="601896"></a><li><p>If you prevent certain messages from being recorded with the <u><code><a href="chap2.html#180776">NOLOG</a></code></u> option, you cannot include that information in reports.</p>

  <a name="601897"></a><li><p>The information you really want goes to the report log file.</p>
</ul>
<p>
  <a name="159401"> </a>For an enhanced report generator, contact a third-party vendor or Macrovision.</p>




<h4>
  <a name="159648"> </a>Report Log File</h4>


<p>
  <a name="159662"> </a>You can generate additional usage information from the non-ASCII <a href="chap2.html#180781">report log</a> file by using third-party report generators.</p>


<br><br><br>
<h2>
  <a name="162676"> </a>Stopping and Starting <a name="daemons"></a>the License Daemons</h2>


<p>
  <a name="162724"> </a>You need to stop and restart the license daemons </p>

<ul>
  <a name="162757"></a><li><p>After you modify</p>
<ul>
  <a name="162725"> </a><li><p>The path to the license file
</p>

  <a name="162726"> </a><li><p>The host name or port number in the license file
</p>

  <a name="162876"> </a><li><p>The <u><code><a href="chap2.html#171093">options</a></code></u> file
</p>
</ul>
  <a name="162878"></a><li><p>To start a <a href="chap3.html#162383">new debug log file</a></p>
</ul>
<p>
  <a name="162881"> </a>You must stop the license daemons carefully to prevent loss of users' data.</p>

<ul>
  <a name="601624"></a><li><p><a href="chap3.html#600277">Stopping the License Daemons</a></p>

  <a name="601631"></a><li><p><a href="chap3.html#600320">Starting the License Daemons</a></p>
</ul>
<br><br>
<h3>
  <a name="600277"> </a>Stopping the License <a name="stop"></a>Daemons</h3>


<p>
  <a name="598828"> </a>If you are not the owner of the daemon, you will need to be <code>root</code> or be listed in <code>lmadmin</code> group or group <code>0</code> in <code>/etc/group</code> or <code>NIS</code> or its equivalent to stop the daemons.</p>


  <a name="159866"> </a><table border="0"><tr><td valign="top"><img src="../support/important.gif"></td><td>Do not kill the license manager daemon while licenses are in use because the users could lose their data. Do not use the <code>-9</code> option of the <code>kill</code> command. </td></table>


<p>
  <a name="598830"> </a>Follow these steps to stop the daemons.</p>

<ol type="1">
  <li value="1"><p><a name="598834"> </a>Notify users that you are terminating the license daemons so that they can exit the products properly.</p>
<dl>
<p>
  <a name="601384"> </a>If users do not exit before you shut the license daemons down, they will get the following message until the license server comes back up.</p>

</dl></ol>

<pre><a name="601390"></a><nobr><a href="appd.html#467513">WARNING (LM 100) waiting</a> &lt;num_sec&gt; seconds to regain &lt;feature&gt; license</nobr></pre>
<ol type="1">
  <li value="2"><p><a name="601387"> </a>Verify that no users are accessing FLEXlm licenses.</p>
<dl>
<pre><a name="168415"></a><nobr>cd <code><em>install_dir</code></em>/tools/bin<br>./lmstat -a -c <code><em>license_file</code></em></nobr></pre>
</dl>  <li value="3"><p><a name="168419"> </a>Terminate the licensing daemons.</p>
<dl>
<pre><a name="598838"></a><nobr>./lmdown -c <code><em>license_file</code></em></nobr></pre>
</dl><dl>
<p>
<strong>Note:&nbsp;</strong>
<a name="598840"> </a>You only need to execute <code>lmdown</code> on one node of a license fault tolerant system.
</p>

</dl><dl>
<p>
  <a name="167563"> </a>The <code>lmdown</code> utility shuts down ALL license daemons in the specified license file. If you do not specify a license file and you have multiple license files in your path, <code>lmdown</code> shuts down ALL license daemons in all license files. The license daemons write their last messages to the debug log file, close the file, and exit. All licenses granted by those daemons return to the license pool. If an application is still running when you terminate the license daemons, the next time the client program tries to verify its license, the license will not be valid.</p>


<p>
  <a name="601403"> </a>Only use your operating system's <code>kill</code> command if <code>lmdown</code> does not work. If you started <code>lmgrd</code> with lmgrd<code> -2 -p -x lmdown</code>, you cannot use <code>lmdown</code> to shut the daemons down.</p>

</dl>  <li value="4"><p><a name="598844"> </a>Verify that the license daemons are no longer running.</p>
<dl>
<pre><a name="598845"></a><nobr>./lmstat -a -c <code><em>license_file</code></em> </nobr></pre>
</dl></ol>

<p>
  <a name="601639"> </a>Go to <a href="chap3.html#600320">Starting the License Daemons</a></p>


<br><br>
<h3>
  <a name="600320"> </a>Starting the <a name="start"></a>License Daemons</h3>


<p>
  <a name="598846"> </a>If you have multiple license servers, restart the license daemons on each license server that you have shut down.</p>


<p>
  <a name="598848"> </a>To restart the license daemons, follow these steps. </p>

<ol type="1">
  <li value="1"><p><a name="598849"> </a>Verify that the daemons are not running.</p>
<dl>
<pre><a name="598850"></a><nobr>cd <code><em>install_dir</code></em>/tools/bin<br>./lmstat -c <code><em>license_file</code></em> -a</nobr></pre>
</dl><dl>
<p>
  <a name="598851"> </a>If the license daemons are running, <a href="chap3.html#600277">stop the daemons</a>.</p>

</dl></ol>

  <a name="601418"> </a><table border="0"><tr><td valign="top"><img src="../support/important.gif"></td><td>Do not kill the license manager daemon while licenses are in use because the users could lose their data. Do not use the <code>-9</code> option of the <code>kill</code> command. </td></table>

<ol type="1">
  <li value="2"><p><a name="598852"> </a>Start the license daemons.</p>
<dl>
<p>
  <a name="148995"> </a>You must have write permission to the log file to start the license daemons.</p>

</dl></ol>

  <a name="156083"> </a><table border="0"><tr><td valign="top"><img src="../support/important.gif"></td><td>For fault-tolerant license servers, start the license daemons on each license server within three minutes of starting the first daemon.</td></table>

   <ul><ul>
  <a name="598853"> </a><li><p>If the <code>/etc/rc.lic</code> script starts the license daemons, type
</p>
<dl>
<pre><a name="598854"></a><nobr>/etc/<a href="chap2.html#114714">rc.lic</a></nobr></pre>

</dl>
  <a name="600367"> </a><li><p>If you did not create the script to start the license daemons, type
</p>
<dl>
<pre><a name="163128"></a><nobr>nohup lmgrd -c <i><code>license_file</code></i> &gt; /usr/tmp/license.log &amp;</nobr></pre>

</dl><dl>
<p>
  <a name="163135"> </a>This command starts the license daemons using <code><em>license_file</code></em>, records the licensing activity in <code>/usr/tmp/license.log</code>, and runs in the background. </p>

</dl>
  <a name="598858"> </a><li><p>Check the log file for error messages.
</p>
<dl>
<p>
  <a name="156236"> </a>If you see the following message in the license log file, <br><code>/usr/tmp/license.log</code>, another license daemon is probably running.</p>

</dl><dl>
<pre><a name="598859"></a><nobr>ERROR: <i><code>date</code></i> <i><code>time</code></i> (cdslmd) <a href="appd.html#757472">Retrying socket bind</a> (address in use)</nobr></pre>

</dl><dl>
<p>
  <a name="168433"> </a>Solaris computers sometimes take as long as five minutes to close a port after you have shut down the daemons. Wait and try again.</p>

</dl></ul></ul><ol type="1">
  <li value="3"><p><a name="598860"> </a>Verify that the license daemons are up and running.</p>
<dl>
<pre><a name="598861"></a><nobr>./lmstat -a -c <code><em>license_file</code></em></nobr></pre>
</dl></ol>

<br><br><br>
<h2>
  <a name="600413"> </a>Changing the License File</h2>


<p>
  <a name="598931"> </a>If you <a name="changelf"></a>modify a license file while the <a name="newlicense"></a>license daemons are running, such as when you receive a new license file, you can use <code>lmreread</code> to force the daemons to read the new license files. The license daemons do not see the changes until they restart or reread the license file.</p>


<p>
  <a name="598995"> </a>Follow these steps to force the daemons to see the new license file.</p>

<ol type="1">
  <li value="1"><p><a name="599038"> </a>On the license server, log in as <code>cdsmgr</code>.</p>
  <li value="2"><p><a name="601433"> </a>Configure the new license file with <a href="chap2.html#139487">SoftLoad</a> or an <a href="chap2.html#170045">editor</a>.</p>
  <li value="3"><p><a name="601604"> </a>Decide if you must shut down the license daemons.<p>
<br>
<table valign="top" border="1" bordercolorlight="#FFFFFF" bordercolordark="#000000"
       cellpadding="5" cellspacing="0">
<div align="left"></div>
  <tr>
    <td valign="top"><p><strong><a name="601553"> </a>What Changed</strong></p></td>
    <td valign="top"><p><strong><a name="601556"> </a><a href="chap3.html#600277">Stop</a> and <a href="chap3.html#600320">Restart</a> License Daemons</strong></p></td>
    <td valign="top"><p><strong><a name="601561"> </a>Reread License File</strong></p></td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="601563"> </a>Path to the license file</p>
</td>
    <td valign="top"><p>
<a name="601565"> </a>&nbsp;3</p>
</td>
    <td valign="top"><p>
<a name="601567"> </a><br></p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="601569"> </a>Name of the license file</p>
</td>
    <td valign="top"><p>
<a name="601571"> </a>&nbsp;3</p>
</td>
    <td valign="top"><p>
<a name="601573"> </a><br></p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="601575"> </a><code>SERVER</code> host name</p>
</td>
    <td valign="top"><p>
<a name="601577"> </a>&nbsp;3</p>
</td>
    <td valign="top"><p>
<a name="601579"> </a><br></p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="601581"> </a>TCP/IP port numbers</p>
</td>
    <td valign="top"><p>
<a name="601583"> </a>&nbsp;3</p>
</td>
    <td valign="top"><p>
<a name="601585"> </a><br></p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="601587"> </a>Contents of <code>options</code> file</p>
</td>
    <td valign="top"><p>
<a name="601589"> </a>&nbsp;3</p>
</td>
    <td valign="top"><p>
<a name="601591"> </a><br></p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="601593"> </a>Path to the <code>options</code> file</p>
</td>
    <td valign="top"><p>
<a name="601595"> </a>&nbsp;3</p>
</td>
    <td valign="top"><p>
<a name="601597"> </a><br></p>
</td>
  </tr>
  <tr>
    <td valign="top"><p>
<a name="601599"> </a>Contents of license file<br>(other than the above)</p>
</td>
    <td valign="top"><p>
<a name="601601"> </a><br></p>
</td>
    <td valign="top"><p>
<a name="601603"> </a>&nbsp;3</p>
</td>
  </tr>
</table>
<br>


</p>
</p>
  <li value="4"><p><a name="601608"> </a><a href="chap3.html#600277">Stop</a> and <a href="chap3.html#600320">restart</a> the daemons if you need to.</p>
  <li value="5"><p><a name="166542"> </a>If the license daemons need to reread the license file and the license daemons are still running, force the license daemons to read the new license file.</p>
<dl>
<pre><a name="166546"></a><nobr><code><em>install_dir</code></em>/tools/bin/lmreread -c <code><em>license_file</code></em></nobr></pre>
</dl><dl>
<p>
  <a name="170890"> </a>For fault-tolerant license servers, use <code>lmreread</code> on one license server.</p>


<p>
  <a name="598998"> </a>To specify which daemon should read the new license file, type</p>

</dl><dl>
<pre><a name="598999"></a><nobr><code><em>install_dir</code></em>/tools/bin/lmreread -c <code><em>license_file</code></em> cdslmd</nobr></pre>
</dl><dl>
<p>
  <a name="598874"> </a>The <code>-c</code> option specifies the license file. If you do not specify a license file, <code>lmreread</code> looks for the license file sequentially in</p>

</dl><ul>
  <a name="598875"> </a><li><p>The setting of the <code>LM_LICENSE_FILE</code> environment variable
</p>

  <a name="598876"> </a><li><p>The <code>/usr/local/flexlm/licenses/license.dat</code> file
</p>
</ul><dl>
<p>
  <a name="598978"> </a><code>lmreread</code> uses the license file only to find the correct license daemon to notify to read the new license file. The license daemon always rereads the original (same path) license file. </p>

</dl>  <li value="6"><p><a name="170398"> </a>If the new license file contains changes to licenses currently in use, users must exit and restart the applications to use the new features.</p>
  <li value="7"><p><a name="598912"> </a>If the users located the old license file with the <code>CDS_LIC_FILE</code> or <code>LM_LICENSE_FILE</code> environment variable and the location of the license file has changed, they must change the path specified by the variable.</p>
</ol>

<p>
  <a name="602107"> </a></p>


  

</blockquote>

<br>
<a href="#pagetop">Return to top of page</a>
<hr>
<p>
<!-- Begin Buttons -->
<table border="0" cellpadding="0" cellspacing="0" width="650">
<tr>
  <td height="20" width="59"><a href="javascript:openLibrary()"><img src="../support/nav2_library.gif" border="0" alt="View Library" height="20" width="59"></a></td>
  <td height="20" width="73"><a href="licenseTOC.html"><img src="../support/nav2_toc.gif" border="0" alt="View Table Of Contents" height="20" width="73"></a></td>
  <td height="20" width="46"><a href="licenseIX.html"><img src="../support/nav2_index.gif" border="0" alt="View Index for This Manual" height="20" width="46"></a></td>
  <td height="20" width="83"><a href="chap2.html"><img src="../support/nav2_previous.gif" border="0" alt="View Previous Chapter in Book" height="20" width="83"></a></td>
  <td height="20" width="59"><a href="windows.html"><img src="../support/nav2_next.gif" border="0" alt="View Next Chapter in Book" height="20" width="59"></a></td>
  <td height="20" width="114"><a href="license.pdf"><img src="../support/nav2_print.gif" border="0" alt="Open PDF to print book" height="20" width="114"></a></td>
  <td height="20" width="61"><a href="/search.htm"><img src="../support/nav2_search.gif" border="0"  alt="Search Cadence Library" height="20" width="61"></a></td>
  <td height="20" width="76"><a href="/feedback.htm"><img src="../support/nav2_feedback.gif" border="0" alt="Email Comments" height="20" width="76"></a></td>
  <td height="20" width="43"><a href="../cdsuser/help.html"><img src="../support/nav2_help.gif" border="0" alt="Help Using Documentation" height="20" width="43"></a></td>
  <td height="20" width="37"><a href="/exitsearch.htm"><img src="../support/nav2_exit.gif" border="0" alt="Shut Down Cadence Documentation Server" height="20" width="37"></a></td>
</tr>
</table>
<!-- End Buttons -->
<p>
<p>


<!-- NOTES; -->

<!-- /address -->
<p>
<br>
<font size="-1">
For support, see <a href=http://www.cadence.com/support>http://www.cadence.com/support</a>
or try Cadence's <a href=http://sourcelink.cadence.com target=_blank>SourceLink</a> service.
<br><br>
<i>Copyright &#169; 2004, <a href=http://www.cadence.com>Cadence Design Systems, Inc.</a></i> 
<br>
All rights reserved.
<br>
<a href="titlecopy.html">Legal notices and trademark attributions</a>
<br>
<!-- This file was created with Quadralay WebWorks Publisher AutoMap 6.0.7 -->
<!-- -->
<!-- Last updated: Fri Mar 04 16:06:44 2005 -->
</font>
</body>
</html>


