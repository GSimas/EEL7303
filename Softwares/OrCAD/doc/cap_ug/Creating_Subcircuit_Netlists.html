<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>
      Creating Subcircuit Netlists
    </title>
    <meta name="Approver" content="Technical Publications" />
    <meta name="Author" content="Technical Publications" />
    <meta name="CreateDate" content="2012-10-10" />
    <meta name="CreateTime" content="1349876208" />
    <meta name="DataType" content="Manuals" />
    <meta name="Description" content="UG" />
    <meta name="DocTitle" content="OrCAD Capture User Guide" />
    <meta name="DocType" content="User Guide" />
    <meta name="FileTitle"
    content="Creating Subcircuit Netlists" />
    <meta name="Keywords" content="" />
    <meta name="FileType" content="Chapter" />
    <meta name="Keyword" content="cap_ug" />
    <meta name="Language" content="English" />
    <meta name="ModifiedDate" content="2012-10-10" />
    <meta name="ModifiedTime" content="1349876208" />
    <meta name="NextFile" content="Using%2BSUBPARAM.html" />
    <meta name="Group" content="" />
    <meta name="Platform" content="All," />
    <meta name="PrevFile"
    content="Creating%2Ba%2BHierarchical%2BNetlist.html" />
    <meta name="Product"
    content="Allegro Design Entry CIS,OrCAD Capture," />
    <meta name="ProductFamily"
    content="Silicon-Package-Board Co-Design,Silicon-Package-Board Co-Design," />
    <meta name="ProductVersion" content="16.6" />
    <meta name="RightsManagement"
    content="Copyright 2011-2012 Cadence Design Systems Inc." />
    <meta name="Title"
    content="OrCAD Capture User Guide -- Creating Subcircuit Netlists" />
    <meta name="Version" content="16.6" />
    <meta name="Renderer" content="WIKI" />
    <meta name="SpaceKey" content="capug166" />
    <link href="styles/site.css" rel="stylesheet"
    type="text/css" />
    <meta content="text/html; charset=UTF-8"
    http-equiv="Content-Type" />
  </head>
  <body style="margin-left: 5%;background-color: #FFFFFF;">
    <a xmlns:html="http://www.w3.org/1999/xhtml" id="pagetop"
    name="pagetop"></a> <a
    xmlns:html="http://www.w3.org/1999/xhtml" id="firstpage"
    name="firstpage"></a> <!-- Begin Buttons -->
     
    <table xmlns:html="http://www.w3.org/1999/xhtml" border="0"
    cellpadding="0" cellspacing="0" width="650">
      <tbody>
        <tr>
          <td colspan="10" height="36" width="650">
            <img height="34" src="../support/header_doc.gif"
            width="650" />
          </td>
        </tr>
        <tr>
          <td height="20" width="59">
            <a href="javascript:openLibrary()"><img
            alt="View Library" border="0" height="20"
            src="../support/nav2_library.gif" width="59" /></a>
          </td>
          <td height="20" width="73">
            <a href="cap_ugTOC.html"><img alt="Table of Contents"
            border="0" src="../support/nav2_toc.gif" /></a>
          </td>
          <td height="20" width="46">
            <img alt="Index" border="0"
            src="../support/nav2_index_b.gif" />
          </td>
          <td>
            <a href="Creating_a_Hierarchical_Netlist.html"><img
            alt="Previous" border="0"
            src="../support/nav2_previous.gif" /></a>
          </td>
          <td>
            <a href="Using_SUBPARAM.html"><img alt="Next"
            border="0" src="../support/nav_next.gif" /></a>
          </td>
          <td height="20">
            <a href="cap_ug.pdf"><img alt="Open PDF to print book"
            border="0" height="20" src="../support/nav2_print.gif"
            width="114" /></a>
          </td>
          <td height="20" width="61">
            <img src="../support/nav2_black.gif" />
          </td>
          <td height="20" width="76">
            <a href="/feedback.htm"><img alt="Email Comments"
            border="0" height="20"
            src="../support/nav2_feedback.gif" width="76" /></a>
          </td>
          <td height="20" width="43">
            <a href="../cdsuser/help.html"><img
            alt="Help Using Documentation" border="0" height="20"
            src="../support/nav2_help.gif" width="43" /></a>
          </td>
          <td height="20" width="37">
            <a href="/exitsearch.htm"><img
            alt="Shut Down Cadence Documentation Server" border="0"
            height="20" src="../support/nav2_exit.gif"
            width="37" /></a>
          </td>
        </tr>
      </tbody>
    </table><!-- End Buttons -->
    <hr xmlns:html="http://www.w3.org/1999/xhtml" />
    <div id="main-header">
      <a xmlns="" id="CreatingSubcircuitNetlists"
      name="CreatingSubcircuitNetlists"></a> 
      <h1 xmlns="" style=" margin: 4px 0 4px;">
        <span>Creating Subcircuit Netlists</span>
      </h1>
    </div>
    <div class="wiki-content group" id="main-content">
      <p>
        You can specify how subcircuits in a hierarchical design
        are processed and defined in the simulation netlist.<br />
         You cannot directly simulate a subcircuit netlist; it
        defines a model that can be called by another circuit being
        simulated. The models of parts in the PSpice libraries such
        as op amps and regulators, which have multiple constituent
        components, are implemented as subcircuits.<br />
         A subcircuit implementation may consist of a single
        schematic, or a hierarchy of schematics.
      </p>
      <p>
        <strong><em>To create a subcircuit format
        netlist</em></strong>
      </p>
      <ol>
        <li>
          In the project manager, select the design file (.DSN) you
          want to netlist.
        </li>
        <li>
          From the <em>Tools</em> menu, choose <em>Create
          Netlist</em> to display the Create Netlist dialog box.
        </li>
        <li>
          Select the <em>PSpice</em> tab.
        </li>
        <li>
          In the <em>Options</em> group, click <em>Create
          Subcircuit Format Netlist</em>, then click one of the
          following options, as required:<br />
           
          <ul>
            <li>
              Descend: This generates a definition of a
              hierarchical design that includes the top level
              circuit as well as its subcircuits. (This option is
              only available if <em>Create Subcircuit Format
              Netlist</em> is enabled.) If the Create Hierarchical
              Format Netlist is not checked, then this option
              combination is equivalent to creating a flat netlist.
            </li>
            <li>
              Do Not Descend: This generates a definition of a
              hierarchical design that includes only the top level
              circuit, without any of its subcircuits. (This option
              is only available if <em>Create Hierarchical Format
              Netlist</em> and <em>Create Subcircuit Format
              Netlist</em> are enabled.)
            </li>
          </ul>
        </li>
      </ol>
      <p>
        <strong><em>To define a subcircuit</em></strong>
      </p>
      <ol>
        <li>
          Place hierarchical ports on the top level of the
          subcircuit for each node that interfaces to the circuit
          that will use it. (You should place all such ports on a
          single page of a multi-page schematic.)
        </li>
        <li>
          Add a sequence property to each port, assigning values of
          1, 2, and so forth. When you select the <em>Create
          Subcircuit Netlist Format</em> option on the PSpice tab
          of the <em>Create Netlist</em> dialog box, it generates a
          header line of the form:<br />
           .SUBCKT LM317 IN ADJ OUT<br />
           The example above comes from a schematic with ports
          named IN, ADJ, and OUT. The three ports were assigned
          Sequence property values of 1, 2 and 3 respectively.
        </li>
      </ol>
      <p>
        <strong><em>To use this subcircuit in another
        schematic</em></strong>
      </p>
      <ol>
        <li>
          Place a hierarchical symbol, or draw a hierarchical
          block.
        </li>
        <li>
          Set the Implementation Type to PSpice Model and the
          Implementation to LM317. The symbol or block must be
          primitive and have a PSpice Template such as the
          following:
        </li>
      </ol>
      <div class="preformatted panel" style="border-width: 1px;">
        <div class="preformattedContent panelContent">
<pre>
X^@REFDES %IN %ADJ %OUT @MODEL
</pre>
        </div>
      </div>
      <p>
        The PSpice netlister, under guidance of the PSpiceTemplate,
        produces a line of the form:
      </p>
      <div class="preformatted panel" style="border-width: 1px;">
        <div class="preformattedContent panelContent">
<pre>
X_U1 INNET ADJNET OUTNET LM317
</pre>
        </div>
      </div>
      <p>
        INNET, ADJNET and OUTNET refer to the IN, ADJ, and OUT
        ports of the defining circuit. Because the correspondence
        is by position, the port order in the subcircuit definition
        must match the net order in the reference. The order in
        which netnames appear in the reference is controlled by the
        PSpiceTemplate property. As mentioned above, the Sequence
        property added to each port determines the order in which
        port names appear in the subcircuit definition.
      </p>
      <p>
        For more information on the use of subcircuits, see the
        section on the .SUBCKT command in the online PSpice
        Reference Manual.
      </p>
    </div>
    <hr xmlns:html="http://www.w3.org/1999/xhtml" />
    <hr xmlns:html="http://www.w3.org/1999/xhtml" align="left" />
    <div xmlns:html="http://www.w3.org/1999/xhtml"
    style="text-align: left;">
      <!-- Begin Buttons -->
      <table border="0" cellpadding="0" cellspacing="0"
      width="650">
        <tbody>
          <tr>
            <td colspan="10" height="36" width="650">
              <img height="34" src="../support/header_doc.gif"
              width="650" />
            </td>
          </tr>
          <tr>
            <td height="20" width="59">
              <a href="javascript:openLibrary()"><img
              alt="View Library" border="0" height="20"
              src="../support/nav2_library.gif" width="59" /></a>
            </td>
            <td height="20" width="73">
              <a href="cap_ugTOC.html"><img alt="Table of Contents"
              border="0" src="../support/nav2_toc.gif" /></a>
            </td>
            <td height="20" width="46">
              <img alt="Index" border="0"
              src="../support/nav2_index_b.gif" />
            </td>
            <td>
              <a href="Creating_a_Hierarchical_Netlist.html"><img
              alt="Previous" border="0"
              src="../support/nav2_previous.gif" /></a>
            </td>
            <td>
              <a href="Using_SUBPARAM.html"><img alt="Next"
              border="0" src="../support/nav_next.gif" /></a>
            </td>
            <td height="20">
              <a href="cap_ug.pdf"><img
              alt="Open PDF to print book" border="0" height="20"
              src="../support/nav2_print.gif" width="114" /></a>
            </td>
            <td height="20" width="61">
              <img src="../support/nav2_black.gif" />
            </td>
            <td height="20" width="76">
              <a href="/feedback.htm"><img alt="Email Comments"
              border="0" height="20"
              src="../support/nav2_feedback.gif" width="76" /></a>
            </td>
            <td height="20" width="43">
              <a href="../cdsuser/help.html"><img
              alt="Help Using Documentation" border="0" height="20"
              src="../support/nav2_help.gif" width="43" /></a>
            </td>
            <td height="20" width="37">
              <a href="/exitsearch.htm"><img
              alt="Shut Down Cadence Documentation Server"
              border="0" height="20" src="../support/nav2_exit.gif"
              width="37" /></a>
            </td>
          </tr>
        </tbody>
      </table><!-- End Buttons -->
    </div><br xmlns:html="http://www.w3.org/1999/xhtml" />
     <font xmlns:html="http://www.w3.org/1999/xhtml" size="-1">For
    support, see <a href="http://support.cadence.com"
    target="_blank">Cadence Online Support</a> service.</font> <br
    xmlns:html="http://www.w3.org/1999/xhtml" />
     <br xmlns:html="http://www.w3.org/1999/xhtml" />
     <font xmlns:html="http://www.w3.org/1999/xhtml"
    size="-1"><i>Copyright &#169; 2012, <a
    href="http://www.cadence.com">Cadence Design Systems,
    Inc.</a></i></font> <br
    xmlns:html="http://www.w3.org/1999/xhtml" />
     <font xmlns:html="http://www.w3.org/1999/xhtml" size="-1">All
    rights reserved.</font> <br
    xmlns:html="http://www.w3.org/1999/xhtml" />
     <br xmlns:html="http://www.w3.org/1999/xhtml" />
  </body>
</html>
